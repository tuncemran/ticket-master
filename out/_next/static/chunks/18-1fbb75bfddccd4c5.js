(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{37018:function(e,t,r){"use strict";var n=c(r(21870)),o=c(r(67294)),a=r(11987),i=c(r(41664)),u=c(r(11163));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}e.exports=function(e){return new d(e)};var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.Link,n=void 0===r?i.default:r,o=t.Router,a=void 0===o?u.default:o;s(this,e),this.routes=[],this.Link=this.getLink(n),this.Router=this.getRouter(a)}return h(e,[{key:"add",value:function(e,t,r){var n;if(e instanceof Object?e=(n=e).name:("/"===e[0]&&(r=t,t=e,e=null),n={name:e,pattern:t,page:r}),this.findByName(e))throw new Error('Route "'.concat(e,'" already exists'));return this.routes.push(new v(n)),this}},{key:"findByName",value:function(e){if(e)return this.routes.filter((function(t){return t.name===e}))[0]}},{key:"match",value:function(e){var t=(0,a.parse)(e,!0),r=t.pathname,n=t.query;return this.routes.reduce((function(e,t){if(e.route)return e;var o=t.match(r);return o?l({},e,{route:t,params:o,query:l({},n,o)}):e}),{query:n,parsedUrl:t})}},{key:"findAndGetUrls",value:function(e,t){var r=this.findByName(e);if(r)return{route:r,urls:r.getUrls(t),byName:!0};var n=this.match(e),o=n.route,a=n.query,i=o?o.getHref(a):e;return{route:o,urls:{href:i,as:e}}}},{key:"getRequestHandler",value:function(e,t){var r=this,n=e.getRequestHandler();return function(o,a){var i=r.match(o.url),u=i.route,c=i.query,l=i.parsedUrl;u?t?t({req:o,res:a,route:u,query:c}):e.render(o,a,u.page,c):n(o,a,l)}}},{key:"getLink",value:function(e){var t=this;return function(r){var n=r.route,a=r.params,i=r.to,u=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,["route","params","to"]),c=n||i;return c&&Object.assign(u,t.findAndGetUrls(c,a).urls),o.default.createElement(e,u)}}},{key:"getRouter",value:function(e){var t=this,r=function(r){return function(n,o,a){var i=t.findAndGetUrls(n,o),u=i.byName,c=i.urls,l=c.as,f=c.href;return e[r](f,l,u?a:o)}};return e.pushRoute=r("push"),e.replaceRoute=r("replace"),e.prefetchRoute=r("prefetch"),e}}]),e}(),v=function(){function e(t){var r=t.name,o=t.pattern,a=t.page,i=void 0===a?r:a;if(s(this,e),!r&&!i)throw new Error('Missing page to render for route "'.concat(o,'"'));this.name=r,this.pattern=o||"/".concat(r),this.page=i.replace(/(^|\/)index$/,"").replace(/^\/?/,"/"),this.regex=(0,n.default)(this.pattern,this.keys=[]),this.keyNames=this.keys.map((function(e){return e.name})),this.toPath=n.default.compile(this.pattern)}return h(e,[{key:"match",value:function(e){var t=this.regex.exec(e);if(t)return this.valuesToParams(t.slice(1))}},{key:"valuesToParams",value:function(e){var t=this;return e.reduce((function(e,r,n){return void 0===r?e:Object.assign(e,f({},t.keys[n].name,decodeURIComponent(r)))}),{})}},{key:"getHref",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(this.page,"?").concat(y(e))}},{key:"getAs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.toPath(t)||"/",n=Object.keys(t),o=n.filter((function(t){return-1===e.keyNames.indexOf(t)}));if(!o.length)return r;var a=o.reduce((function(e,r){return Object.assign(e,f({},r,t[r]))}),{});return"".concat(r,"?").concat(y(a))}},{key:"getUrls",value:function(e){return{as:this.getAs(e),href:this.getHref(e)}}}]),e}(),y=function(e){return Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).map((function(t){var r=e[t];return Array.isArray(r)&&(r=r.join("/")),[encodeURIComponent(t),encodeURIComponent(r)].join("=")})).join("&")}},21870:function(e){e.exports=c,e.exports.parse=r,e.exports.compile=function(e,t){return n(r(e,t))},e.exports.tokensToFunction=n,e.exports.tokensToRegExp=u;var t=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function r(e,r){for(var n,i=[],u=0,c=0,l="",f=r&&r.delimiter||"/",s=r&&r.delimiters||"./",p=!1;null!==(n=t.exec(e));){var h=n[0],d=n[1],v=n.index;if(l+=e.slice(c,v),c=v+h.length,d)l+=d[1],p=!0;else{var y="",g=e[c],m=n[2],b=n[3],w=n[4],x=n[5];if(!p&&l.length){var k=l.length-1;s.indexOf(l[k])>-1&&(y=l[k],l=l.slice(0,k))}l&&(i.push(l),l="",p=!1);var E=""!==y&&void 0!==g&&g!==y,O="+"===x||"*"===x,j="?"===x||"*"===x,R=y||f,A=b||w;i.push({name:m||u++,prefix:y,delimiter:R,optional:j,repeat:O,partial:E,pattern:A?a(A):"[^"+o(R)+"]+?"})}}return(l||c<e.length)&&i.push(l+e.substr(c)),i}function n(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",a=n&&n.encode||encodeURIComponent,i=0;i<e.length;i++){var u=e[i];if("string"!==typeof u){var c,l=r?r[u.name]:void 0;if(Array.isArray(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<l.length;f++){if(c=a(l[f],u),!t[i].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');o+=(0===f?u.prefix:u.delimiter)+c}}else if("string"!==typeof l&&"number"!==typeof l&&"boolean"!==typeof l){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"));u.partial&&(o+=u.prefix)}else{if(c=a(String(l),u),!t[i].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');o+=u.prefix+c}}else o+=u}return o}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(e){return e.replace(/([=!:$/()])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function u(e,t,r){for(var n=(r=r||{}).strict,a=!1!==r.start,u=!1!==r.end,c=o(r.delimiter||"/"),l=r.delimiters||"./",f=[].concat(r.endsWith||[]).map(o).concat("$").join("|"),s=a?"^":"",p=0===e.length,h=0;h<e.length;h++){var d=e[h];if("string"===typeof d)s+=o(d),p=h===e.length-1&&l.indexOf(d[d.length-1])>-1;else{var v=d.repeat?"(?:"+d.pattern+")(?:"+o(d.delimiter)+"(?:"+d.pattern+"))*":d.pattern;t&&t.push(d),d.optional?d.partial?s+=o(d.prefix)+"("+v+")?":s+="(?:"+o(d.prefix)+"("+v+"))?":s+=o(d.prefix)+"("+v+")"}}return u?(n||(s+="(?:"+c+")?"),s+="$"===f?"$":"(?="+f+")"):(n||(s+="(?:"+c+"(?="+f+"))?"),p||(s+="(?="+c+"|"+f+")")),new RegExp(s,i(r))}function c(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(c(e[o],t,r).source);return new RegExp("(?:"+n.join("|")+")",i(r))}(e,t,n):function(e,t,n){return u(r(e,n),t,n)}(e,t,n)}},48418:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=r(67294))&&o.__esModule?o:{default:o},i=r(76273),u=r(90387),c=r(57190);var l={};function f(e,t,r,n){if(e&&i.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;l[t+"%"+r+(o?"%"+o:"")]=!0}}var s=function(e){var t,r=!1!==e.prefetch,o=u.useRouter(),s=a.default.useMemo((function(){var t=n(i.resolveHref(o,e.href,!0),2),r=t[0],a=t[1];return{href:r,as:e.as?i.resolveHref(o,e.as):a||r}}),[o,e.href,e.as]),p=s.href,h=s.as,d=e.children,v=e.replace,y=e.shallow,g=e.scroll,m=e.locale;"string"===typeof d&&(d=a.default.createElement("a",null,d));var b=(t=a.default.Children.only(d))&&"object"===typeof t&&t.ref,w=n(c.useIntersection({rootMargin:"200px"}),2),x=w[0],k=w[1],E=a.default.useCallback((function(e){x(e),b&&("function"===typeof b?b(e):"object"===typeof b&&(b.current=e))}),[b,x]);a.default.useEffect((function(){var e=k&&r&&i.isLocalURL(p),t="undefined"!==typeof m?m:o&&o.locale,n=l[p+"%"+h+(t?"%"+t:"")];e&&!n&&f(o,p,h,{locale:t})}),[h,p,k,m,r,o]);var O={ref:E,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,u,c){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(r))&&(e.preventDefault(),null==u&&n.indexOf("#")>=0&&(u=!1),t[o?"replace":"push"](r,n,{shallow:a,locale:c,scroll:u}))}(e,o,p,h,v,y,g,m)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),i.isLocalURL(p)&&f(o,p,h,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var j="undefined"!==typeof m?m:o&&o.locale,R=o&&o.isLocaleDomain&&i.getDomainLocale(h,j,o&&o.locales,o&&o.domainLocales);O.href=R||i.addBasePath(i.addLocale(h,j,o&&o.defaultLocale))}return a.default.cloneElement(t,O)};t.default=s},57190:function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!i,c=o.useRef(),l=n(o.useState(!1),2),f=l[0],s=l[1],p=o.useCallback((function(e){c.current&&(c.current(),c.current=void 0),r||f||e&&e.tagName&&(c.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=u.get(t);if(r)return r;var n=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return u.set(t,r={id:t,observer:o,elements:n}),r}(r),o=n.id,a=n.observer,i=n.elements;return i.set(e,t),a.observe(e),function(){i.delete(e),a.unobserve(e),0===i.size&&(a.disconnect(),u.delete(o))}}(e,(function(e){return e&&s(e)}),{rootMargin:t}))}),[r,t,f]);return o.useEffect((function(){if(!i&&!f){var e=a.requestIdleCallback((function(){return s(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[f]),[p,f]};var o=r(67294),a=r(9311),i="undefined"!==typeof IntersectionObserver;var u=new Map},41664:function(e,t,r){e.exports=r(48418)},11163:function(e,t,r){e.exports=r(90387)}}]);